# =============================================================================
# SonarCloud Configuration for Aperture Labs Project
# =============================================================================

# Project Identification
sonar.organization=aperture-labs-sp-26
sonar.projectKey=Aperture-Labs-SP-26_Aperture-Labs-Project
sonar.projectName=Aperture Labs Project
sonar.projectVersion=1.0

# =============================================================================
# Source Code Configuration
# =============================================================================

# Source directories (backend Python + frontend TypeScript/React)
sonar.sources=backend,frontend/src

# Test directories
sonar.tests=backend/tests
sonar.test.inclusions=**/test_*.py,**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx

# =============================================================================
# Exclusions
# =============================================================================

# Files/directories excluded from source analysis
sonar.exclusions=\
  **/node_modules/**,\
  **/venv/**,\
  **/__pycache__/**,\
  **/dist/**,\
  **/.next/**,\
  **/coverage/**,\
  **/tests/**,\
  **/test/**,\
  **/data/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/migrations/**,\
  **/conftest.py

# Files excluded from code duplication detection
sonar.cpd.exclusions=\
  **/tests/**,\
  **/test/**,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/test_*.py

# Files excluded from coverage analysis
sonar.coverage.exclusions=\
  **/tests/**,\
  **/test/**,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/test_*.py,\
  **/conftest.py,\
  **/main.py

# =============================================================================
# Python Configuration
# =============================================================================

sonar.python.version=3.11
sonar.python.coverage.reportPaths=backend/coverage.xml

# =============================================================================
# TypeScript/JavaScript Configuration
# =============================================================================

sonar.typescript.lcov.reportPaths=frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# TypeScript configuration file (helps with accurate analysis)
sonar.typescript.tsconfigPath=frontend/tsconfig.json

# =============================================================================
# General Settings
# =============================================================================

# Source encoding
sonar.sourceEncoding=UTF-8

# Verbose logging (set to true for debugging scan issues)
sonar.verbose=false

# SCM (Git) settings - uses git blame for new code detection
sonar.scm.provider=git

# =============================================================================
# Quality Gate Settings (optional - can be configured in SonarCloud UI)
# =============================================================================

# Fail CI if quality gate fails (enforced in GitHub Actions)
# sonar.qualitygate.wait=true